#!/usr/bin/env bash

# shellcheck disable=SC1091
if [ -z "$TK_PROFILE_LOADED" ]; then

# nvm
NVM_DIR="$([ -z "${XDG_CONFIG_HOME-}" ] && printf %s "${HOME}/.nvm" || printf %s "${XDG_CONFIG_HOME}/nvm")" && export NVM_DIR
[ -d "$NVM_DIR/versions/node" ] && NVM_LATEST_V=$(find "$NVM_DIR/versions/node" -mindepth 1 -maxdepth 1 -type d | sed 's:.*/::g' | sort -rV | head -n 1)
[ -n "$NVM_LATEST_V" ] && [ -d "$NVM_DIR/versions/node/$NVM_LATEST_V/bin" ] && case ":$PATH:" in *":$NVM_DIR/versions/node/$NVM_LATEST_V/bin:"*) ;; *) export PATH="$NVM_DIR/versions/node/$NVM_LATEST_V/bin:$PATH" ;; esac;
[ -s "$NVM_DIR/nvm.sh" ] && source "$NVM_DIR/nvm.sh" --no-use
unset NVM_LATEST_V

# rbenv
command -v rbenv >/dev/null && eval "$(rbenv init -)"

# pyenv
export PYENV_ROOT="$HOME/.pyenv"
PATH_4_TK_PROFILE_TMP="$PYENV_ROOT/bin" ; case ":$PATH:" in *":$PATH_4_TK_PROFILE_TMP:"*) ;; *) export PATH="$PATH_4_TK_PROFILE_TMP:$PATH" ;; esac; unset PATH_4_TK_PROFILE_TMP
command -v pyenv >/dev/null && eval "$(pyenv init -)"

export PIPENV_VENV_IN_PROJECT=1
export POETRY_VIRTUALENVS_IN_PROJECT=1

PATH_4_TK_PROFILE_TMP="$HOME/.cargo/bin" ; case ":$PATH:" in *":$PATH_4_TK_PROFILE_TMP:"*) ;; *) export PATH="$PATH_4_TK_PROFILE_TMP:$PATH" ;; esac; unset PATH_4_TK_PROFILE_TMP
PATH_4_TK_PROFILE_TMP="$HOME/.local/bin" ; case ":$PATH:" in *":$PATH_4_TK_PROFILE_TMP:"*) ;; *) export PATH="$PATH_4_TK_PROFILE_TMP:$PATH" ;; esac; unset PATH_4_TK_PROFILE_TMP
PATH_4_TK_PROFILE_TMP="$HOME/go/bin" ; case ":$PATH:" in *":$PATH_4_TK_PROFILE_TMP:"*) ;; *) export PATH="$PATH_4_TK_PROFILE_TMP:$PATH" ;; esac; unset PATH_4_TK_PROFILE_TMP
PATH_4_TK_PROFILE_TMP="/usr/local/sbin" ; case ":$PATH:" in *":$PATH_4_TK_PROFILE_TMP:"*) ;; *) export PATH="$PATH_4_TK_PROFILE_TMP:$PATH" ;; esac; unset PATH_4_TK_PROFILE_TMP

[ -r "$HOME/.custom-shellprofile" ]  && source "$HOME/.custom-shellprofile"

export CLICOLOR=1
export SYSTEMD_EDITOR="vim"

# Flag shell profile is loaded.
export TK_PROFILE_LOADED=1

fi
